\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[hmargin={2cm,2cm}, vmargin={2cm,2cm}]{geometry}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{steinmetz}
\usepackage[colorlinks=blue,hidelinks]{hyperref}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{tcolorbox}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{float}
\usepackage[rflt]{floatflt}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{pdfpages}
\usepackage{tikz-page}
\usepackage{circuitikz}
\usepackage{siunitx}
\usepackage{caption}
\usepackage{listings}
\usepackage[explicit]{titlesec}
\usepackage{soul}
\usepackage{datatool}
\usepackage{tabularx}
\usetikzlibrary{shapes.geometric, arrows}

% Start of preamble

% Block diagrams
\tikzstyle{startstop} = [rectangle, rounded corners, minimum width=3cm, minimum height=1cm,text centered, draw=black, fill=red!50!blue!40]
\tikzstyle{arrow} = [thick,->,>=stealth]

% For units
\newcommand{\volt}{\si{\volt}}
\newcommand{\ampere}{\si{\ampere}}
\newcommand{\kohm}{\si{\killo\ohm}}
\newcommand{\ohm}{\si{\ohm}}
\newcommand{\watt}{\si{\watt}}
\newcommand{\hour}{\si{\hour}}


% End of preamble

\begin{document}
    \include{Portada}
    \tableofcontents
    \restoregeometry
    % For sections, subsections and subsubsections
    \definecolor{titleblue}{HTML}{4a7aa4}
    \newbox\TitleUnderlineTestBox
    \newcommand*\TitleUnderline[1]
      {%
        \bgroup
        \setbox\TitleUnderlineTestBox\hbox{\colorbox{titleblue}\strut}%
        \setul{\dimexpr\dp\TitleUnderlineTestBox-.3ex\relax}{.3ex}%
        \ul{#1}%
        \egroup
      }
    \newcommand*\SectionNumberBox[1]
      {%
        \colorbox{titleblue}
          {%
            \makebox[2.5em][c]
              {%
                \color{white}%
                \strut
                \csname the#1\endcsname
              }%
          }%
        \TitleUnderline{\ \ \ }%
      }
      \titleformat{\section}
      {\LARGE\bfseries\sffamily\color{titleblue}}
      {\SectionNumberBox{section}}
      {0pt}
      {\TitleUnderline{#1}}
      
    \titleformat{\subsection}
      {\Large\bfseries\sffamily\color{titleblue}}
      {\SectionNumberBox{subsection}}
      {0pt}
      {\TitleUnderline{#1}}
      
    \titleformat{\subsubsection}
      {\large\bfseries\sffamily\color{titleblue}}
      {\SectionNumberBox{subsubsection}}
      {0pt}
      {\TitleUnderline{#1}}
      
    \include{Introduccion}
    \include{MT}
    \include{Desarrollo}
    \include{Analisis}
    \include{Conclusion}
    \includepdf[pages=-]{PDFs/100-Watt-12-Volt-Monocrystalline-Solar-Panel-Specifications}
    \includepdf[pages={1-4}]{PDFs/TerminalBlock}
    \includepdf[pages={1-3}]{PDFs/1N5400}
    \includepdf[]{PDFs/Resistence}
    \includepdf[pages={1-6}]{PDFs/TLP175A}
    \includepdf[pages={1-6}]{PDFs/1N4148}
    \includepdf[pages={1-4}]{PDFs/LYCA005x}
    \includepdf[pages={1-5}]{PDFs/2N2219}
    \includepdf[pages={1,3,4,5,7,8}]{PDFs/18650}
\end{document} 